---
layout: base.njk
---
<div x-data="{ 
    modalOpen: false,
    modalContent: null,
    openModal(content) {
        this.modalContent = content;
        this.modalOpen = true;
        console.log(this.modalContent);
    }
}" class="container mx-auto px-4">
    <header class="text-center mb-8">
        <h1 class="text-4xl font-bold mb-2">ML Development Cycle</h1>
        <p class="text-gray-600">A collection of resources and platforms for machine learning engineers, data analysts, and DevOps</p>
    </header>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
        {% for step in range(1, 5) %}
        <div class="flex flex-col gap-4">
            <h2 class="text-xl font-semibold">{{ steps[step - 1].title }}</h2>
            {% for tool in tools %}
            {% if tool.Tag === 'step' + step %}
            <div 
                class="card hover:shadow-lg"
                style="background-color: {{ tool['Background Colour'] }}"
                @click="openModal({
                    title: `{{ tool.title }}`,
                    content: `{{ tool.content | safe }}`,
                    link: `{{ tool['External Link'] }}`
                })"
            >
                <h3 class="font-medium mb-2">{{ tool.title }}</h3>
                <a 
                    href="{{ tool['External Link'] }}" 
                    target="_blank" 
                    @click.stop
                    class="text-blue-600 hover:text-blue-800 underline text-sm"
                >Learn more</a>
            </div>
            {% endif %}
            {% endfor %}
        </div>
        {% endfor %}
    </div>

    <!-- Modal -->
    <div 
        class="modal" 
        x-show="modalOpen" 
        @click="modalOpen = false"
        x-cloak
    >
        <div 
            class="modal-content"
            @click.stop
        >
            <h3 x-text="modalContent?.title" class="text-xl font-semibold mb-4"></h3>
            <p x-html="modalContent?.content" class="text-gray-700"></p>
            <a :href="modalContent?.link" target="_blank" class="modal-link">Learn more</a>
        </div>
    </div>
</div>